{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>Book</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="{% static "css/bootstrap.min.css" %}">
  <link rel="stylesheet" type="text/css" href="{% static "css/style.css" %}">
</head>
<body>

<nav class="navbar navbar-expand-sm">
  <!-- Brand/logo -->
  <a class="navbar-brand" href="#">
    <a class="navbar-brand" href="#">EqraA</a>
    <img src="/media/images/rlogo.png" alt="logo" style="width:40px;">
  </a>
  
  <!-- Links -->
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="#">Home</a>
    </li>

    <li class="nav-item">
      <img src="/media/images/user.png" alt="logo" style="width:40px;">
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">My profile</a>
    </li>

    </li>
    <li class="nav-item">
      <img src="/media/images/genres.png" alt="logo" style="width:40px;">
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Genres</a>
    </li>
  </ul>


</nav>
<!-- Body -->
<div class="row">

  <div class="col-sm-3">

  </div>
  <div class="col-sm-6">
    
    <form class="form-inline" action="" id="searchInput">
      <input class="form-control" type="text" placeholder="Search books">
      <button class="btn btn-success" type="submit">Search</button>
    </form>

    {% if data.books %}
      {% for book in data.books %}
        {{ book.title }}
      {% endfor %}
    {% endif %}

    {% if data.authors %}
      {% for author in data.authors %}
        {{ author.full_name }}
      {% endfor %}
    {% endif %}

  </div>
  <div class="col-sm-3"></div>

</div>


<script>
    
    // var myRatingDiv = document.getElementById('myrating-div')
    // var myRating = myRatingDiv.className ? myRatingDiv.className : ""
    // var hoverRating = myRating

    // var applyRate = function (element,num) {
    //   for(var i=0; i<num; i++){

    //     element.children[i].className = "fa fa-star checked"
    //     console.log(element.children[i], num)
    //   }
    // }

    // var removeRate = function () {

    //   for(var i=myRating.substring(4); i<myRatingDiv.children.length; i++){
    //     myRatingDiv.children[i].className = "fa fa-star"
    //   }
    //   myRatingDiv.className = ""
    // }
    
    // var rateHandler = function (e) {
    //   eventType = e.type
    //   currentNode = e.target
    //   if(currentNode.id.substring(0, 4)=='star'){
    //     starsNum = currentNode.id.substring(4)
    //     hoverRating = "star"+starsNum
    //     applyRate(currentNode.parentElement, starsNum)
    //   }
    //   if(eventType == 'click'){
    //     currentNode.parentElement.className = "star"+starsNum
    //     hoverRating = "star"+starsNum
    //     myRating = "star"+starsNum
    //   }
    //   else if (eventType == 'mouseout' && !myRatingDiv.className || hoverRating>myRating) {
    //     removeRate()
    //   }
    // }

    // myRatingDiv.addEventListener('mouseover', rateHandler)
    // myRatingDiv.addEventListener('click', rateHandler)
    // myRatingDiv.addEventListener('mouseout', rateHandler)
   
    // document.addEventListener("DOMContentLoaded", function (){
    //   if (myRatingDiv.className){
    //     var starsNum = myRatingDiv.className.substring(4)
    //     applyRate(myRatingDiv, starsNum)
    //   }
    // }
    // )
    

 
  </script>
    <script src="{% static "js/script.js" %}"></script>
    <script src="{% static "js/search.js" %}"></script>

</body>
</html>
